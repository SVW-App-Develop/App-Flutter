# 12ë‹¨ê³„ : ë™ì˜ìƒ í”Œë ˆì´ì–´
- í™”ë©´ íšŒì „, ì‹œê°„ ë³€í™˜, String íŒ¨ë”©

- [ì‹¤ìŠµ í”„ë¡œì íŠ¸ ë°”ë¡œê°€ê¸°](https://github.com/SVW-App-Develop/Vid_Player.git)

<br>

|ê°œìš”|ì„¤ëª…|
|-|-|
|**í”„ë¡œì íŠ¸ëª…**|vid_player &nbsp;&nbsp;&nbsp; *\*ì£¼ì˜: video_player í”ŒëŸ¬ê·¸ì¸ ì´ë¦„ê³¼ ê²¹ì¹˜ì§€ ì•Šê²Œ ì‘ëª…ì— ìœ ì˜* |
|**ê°œë°œí™˜ê²½**|í”ŒëŸ¬í„° SDK : 3.24.3|
|**ë¯¸ì…˜**|í•¸ë“œí° ê°¤ëŸ¬ë¦¬ì—ì„œ ë™ì˜ìƒì„ ê³¨ë¼ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ë™ì˜ìƒ í”Œë ˆì´ì–´ ì•± êµ¬í˜„|
|**ê¸°ëŠ¥**|- ë¡œê³ ë‚˜ ê°¤ëŸ¬ë¦¬ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ë™ì˜ìƒ ê³ ë¥´ê¸°<br><br>- ë™ì˜ìƒ ì¬ìƒ, ì¤‘ì§€, 3ì´ˆ ë’¤ë¡œ, 3ì´ˆ ì•ìœ¼ë¡œ ê¸°ëŠ¥<br><br>- Slider ìœ„ì ¯ ì´ìš©í•´ ì›í•˜ëŠ” ë™ì˜ìƒ ìœ„ì¹˜ë¡œ ì´ë™<br><br>- ë™ì˜ìƒ í™”ë©´ì„ íƒ­í•˜ë©´ ë™ì˜ìƒì„ ì œì–´í•˜ëŠ” ë²„íŠ¼ë“¤ì„ í™”ë©´ì— ë³´ì—¬ì¤Œ|
|**ì¡°ì‘ë²•**|- í™ˆ ìŠ¤í¬ë¦°ì—ì„œ ë¡œê³ ë¥¼ ëˆŒëŸ¬ ë™ì˜ìƒ ì„ íƒ<br><br>- Slider ìœ„ì ¯ ì¡°ì‘í•´ ì›í•˜ëŠ” ì˜ìƒì˜ ìœ„ì¹˜ë¡œ ì´ë™<br><br>- í™”ë©´ì„ í•œ ë²ˆ íƒ­í•´ì„œ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ì„ ë„ìš´ í›„ ë™ì˜ìƒì„ 30ì´ˆ ì•ë’¤ë¡œ ì´ë™<br><br>- ê°¤ëŸ¬ë¦¬ ì•„ì´ì½˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ìƒˆë¡œìš´ ë™ì˜ìƒ ì‹¤í–‰|
|**í•µì‹¬ êµ¬ì„±ìš”ì†Œ**|- Stack<br><br>- Positioned<br><br>- VideoPlayer<br><br>- ImagePicker<br><br>- LinearGradient|
|**í”ŒëŸ¬ê·¸ì¸**|- video_player: 2.8.1<br><br>- image_picker: 1.0.4|

<br>

---

<br>

12.1 ì‚¬ì „ ì§€ì‹
---
### 01. iOS ì‹œë®¬ë ˆì´í„° í™”ë©´ íšŒì „
- ì‹œë®¬ë ˆì´í„° ë§¨ ìœ„ì— ìˆëŠ” 3ê°€ì§€ ì˜µì…˜ ì¤‘ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìˆëŠ” íšŒì „í•˜ê¸° ë²„íŠ¼ í´ë¦­

  - ì‹œë®¬ë ˆì´í„°ë¥¼ ì˜¤ë¥¸ìª½ 90ë„ì”© íšŒì „
 
<br>

### 02. ì•ˆë“œë¡œì´ë“œ ì• ë®¬ë ˆì´í„° í™”ë©´ íšŒì „
- ìƒë‹¨ íšŒì „í•˜ê¸° ë²„íŠ¼ í´ë¦­

  - ì‹œê³„ë°©í–¥ ë˜ëŠ” ë°˜ì‹œê³„ë°©í–¥ìœ¼ë¡œ 90ë„ íšŒì „ ê°€ëŠ¥

|-|
|-|
|![ì´ë¯¸ì§€](./img/01.png)|
 
<br>

### 03. ì‹œê°„ ë³€í™˜ ë° String íŒ¨ë”©
- Duration í´ë˜ìŠ¤ : ê¸°ê°„ì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤

  - DateTime : íŠ¹ì • ë‚ ì§œ
 
- video_player í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©

  - í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ì˜ìƒì˜ ìœ„ì¹˜, ì˜ìƒì˜ ì´ ê¸¸ì´ ë“±ì„ Duration í´ë˜ìŠ¤ë¡œ ë°˜í™˜
 
  - ë³´ê¸° ì¢‹ì€ String ê°’ìœ¼ë¡œ Duration í´ë˜ìŠ¤ ì „í™˜
 
    - ê°œë°œìê°€ ì„ í˜¸í•˜ëŠ” ìë£Œ í˜•íƒœì™€ ì‹¤ì‚¬ìš©ìŸˆê°€ ì„ í˜¸í•˜ëŠ” ìë£Œ í˜•íƒœ ë‹¤ë¥´ê¸° ë•Œë¬¸

> lib/main.dart
```dart
  import 'package:flutter/material.dart';
  
  void main() {
    Duration duration = Duration(seconds: 192);
    print(duration);    // ê¸°ê°„ ì¶œë ¥
    
    runApp(
      MaterialApp(
        home: Scaffold(
          body: Center(
            child: Text(
              'home',
            ),
          ),
        ),
      ),
    );
  }
```
- Duration í´ë˜ìŠ¤ë¥¼ í™”ë©´ì— ê·¸ëŒ€ë¡œ ì¶œë ¥

  - ê°œë°œìë“¤ì€ ì‰½ê²Œ ì´í•´ ê°€ëŠ¥, ì¼ë°˜ ì‚¬ëŒì€ ì´í•´ ì–´ë ¤ì›€

> ì‹¤í–‰ ê²°ê³¼
```
  I/flutter (29938): 0:03:12.000000
```

<br>

- ìœ„ ê²°ê³¼ì—ì„œ '.' ë’·ë¶€ë¶„ì„ ì œì™¸í•œ ì•ë¶€ë¶„ë§Œ ì¶œë ¥
> lib/main.dart
```dart
  ...ìƒëµ...
    Duration duration = Duration(seconds: 192);
    print(duration.toString().split('.')[0]);
  ...ìƒëµ
```
- split() í•¨ìˆ˜ : ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ë“¤ì–´ì˜¤ëŠ” ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ String ê°’ì„ ë‚˜ëˆ„ê³  ê°ê° ë‚˜ë‰œ ê°’ì„ List ì— ë„£ì–´ ë°˜í™˜

> ì‹¤í–‰ ê²°ê³¼
```
  I/flutter (29938): 0:03:12
```

<br>

- 'ì‹œ' ë‹¨ìœ„ ìƒëµ, 'ë¶„ë¶„:ì´ˆì´ˆ' í˜„íƒœë¡œ Duration í‘œí˜„
> lib/main.dart
```dart
  ...ìƒëµ...
    Duration duration = Duration(seconds: 192);
    print(duration);
    print(duration.toString().split('.')[0].split(':').sublist(1, 3).join(':'));
  ...ìƒëµ...
```
- '.' ê¸°ì¤€ìœ¼ë¡œ String ì„ split() í•´ì„œ ë°€ë¦¬ì´ˆ ë‹¨ìœ„ ì‚­ì œ

- í•œë²ˆ ë” ':' ê¸°ì¤€ìœ¼ë¡œ split() í•´ì„œ ì‹œ, ë¶„, ì´ˆ ë‹¨ìœ„ë¡œ ë‚˜ë‰œ List ê°’ ë°˜í™˜

  - ë¦¬ìŠ¤íŠ¸ì˜ ë§¨ ì•ì˜ ê°’ìœ¼ë¡œ ë°˜í™˜ë˜ëŠ” 'ì‹œ' qjfudi gka
 
    - sublist() í•¨ìˆ˜ ì´ìš©í•´ 1ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 2ë²ˆ ì¸ë±ìŠ¤ì˜ ê°’ë“¤ë§Œ ëª¨ì•„ join() í•¨ìˆ˜ë¡œ í•©ì¹¨

> ì‹¤í–‰ ê²°ê³¼
```
  I/flutter (29938): 0:03:12.000000
  I/flutter (29938): 03:12
```

<br>

- Duration í´ë˜ìŠ¤ì˜ toString() í•¨ìˆ˜ë¡œ ì§ì ‘ ì½”ë“œ ì‘ì„±
> lib/main.dart
```dart
  ...ìƒëµ...
    Duration duration = Duration(seconds: 192);
    print(duration);
    print('${duration.inMinutes.toString().padLeft(2, '0')}:${(duration.inSeconds % 60).toString().padLeft(2, '0')}');
    print('23'.padLeft(3, '0'));
    print('233'.padLeft(3, '0'));
  ...ìƒëµ...
```
- Duration í´ë˜ìŠ¤

  - inMinutes ê²Œí„° : ë¶„ ë‹¨ìœ„ ì‹œê°„ ê°€ì ¸ì˜´
 
  - inSeconds ê²Œí„° : ì´ˆ ë‹¨ìœ„ ì‹œê°„ ê°€ì ¸ì˜´
 
    - ì´ˆ ë‹¨ìœ„ ì‹œê°„ì€ ë¶„ì˜ ëª«ìœ¼ë¡œ ë„˜ì–´ê°„ ê°’ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ê°’ë§Œ ë³´ì—¬ì£¼ë©´ ë¨

- String í´ë˜ìŠ¤

  - padLeft() : ìµœì†Œ ê¸¸ì´ì— ë§ì¶°ì„œ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥ëœ ê°’ì„ ì™¼ìª½ì— ì±„ì›Œì¤Œ
 
  - padRight() : ìµœì†Œ ê¸¸ì´ì— ë§ì¶°ì„œ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥ëœ ê°’ì„ ì˜¤ë¥¸ìª½ì— ì±„ì›Œì¤Œ

  - pad() í•¨ìˆ˜ë“¤ì€ String ì˜ ê¸¸ì´ë¥¼ ë§ì¶°ì£¼ëŠ” ì—­í• 
 
    - ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ : String ì˜ ìµœì†Œ ê¸¸ì´ ì…ë ¥
   
    - ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ : ê¸¸ì´ê°€ ë¶€ì¡±í•  ë•Œ ì±„ì›Œì¤„ String ê°’ ì…ë ¥

> ì‹¤í–‰ ê²°ê³¼
```
  I/flutter (29938): 0:03:12.000000
  I/flutter (29938): 03:12
  I/flutter (29938): 023
  I/flutter (29938): 233
```
- ìµœì†Œ 3ì˜ ê¸¸ì´ë§Œí¼ String ì±„ì›Œë„£ì–´ì•¼ í•˜ë‹ˆ '023'

- '233'ì€ ì´ë¯¸ ìµœì†Œ ê¸¸ì´ì¸ 3 ì¶©ì¡±í•˜ì—¬ ê·¸ëŒ€ë¡œ '233'

<br>

---

<br>

12.2 ì‚¬ì „ ì¤€ë¹„
---
### 01. ê°€ìƒ ë‹¨ë§ì— ë™ì˜ìƒ ì¶”ê°€
- ì—ì…‹ í´ë”ì— ì¶”ê°€í•´ë‘” ë™ì˜ìƒ íŒŒì¼ë“¤ì„ ëª¨ë‘ ì—ë®¬ë ˆì´í„°ë¡œ ë³µì‚¬í•´ì•¼ í•¨

  - [asset] í´ë” ë‚´ [video] í´ë” ìƒì„±í•˜ì—¬ ì›í•˜ëŠ” ë™ì˜ìƒ ì˜®ê¸°ê¸°

- ë™ì˜ìƒ íŒŒì¼ì„ ì €ì¥í•´ë„ íŒŒì¼ ì•±ì´ ë°”ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— íŒŒì¼ì´ ì˜ ì˜®ê²¨ì¡ŒëŠ”ì§€ ì§ì ‘ í™•ì¸ í•„ìš”

  - [Files] ì•± ì‹¤í–‰ í›„ ì™¼ìª½ ìƒë‹¨ì˜ ë©”ë‰´ ì•„ì´ì½˜ì¸ í–„ë²„ê±° ë²„íŠ¼ í´ë¦­
 
  - ì—´ë¦¬ëŠ” Drawerì—ì„œ [Downloads] íƒ­ í´ë¦­
 
  - ë³µì‚¬í•œ ë™ì˜ìƒì´ ëª¨ë‘ ë³µì‚¬ë˜ì–´ìˆëŠ”ì§€ í™•ì¸

|Files ì•± ì‹¤í–‰|í–„ë²„ê±° ë²„íŠ¼|Downloads|íŒŒì¼í™•ì¸|
|:-:|:-:|:-:|:-:|
|![ì´ë¯¸ì§€](./img/02.png)|![ì´ë¯¸ì§€](./img/03.png)|![ì´ë¯¸ì§€](./img/04.png)|![ì´ë¯¸ì§€](./img/05.png)|

<br>

### 02. ì´ë¯¸ì§€ ì¶”ê°€
- [asset] í´ë” ë‚´ [img] í´ë” ë‚´ ë°°ê²½ ì´ë¯¸ì§€ ë³µì‚¬

<br>

### 03. pubspec.yaml ì„¤ì • í›„ [Pub get]
> pubspec.yaml
```dart
  ...ìƒëµ...
  dependencies:
    flutter:
      sdk: flutter
      
    image_picker: 1.0.4
    video_player: ^2.5.1
    cupertino_icons: ^1.0.8
  
  ...ìƒëµ...
  
  flutter:
  
    uses-material-design: true
    assets:
      - asset/img/
  ...ìƒëµ///
```

<br>

### 04. ë„¤ì´í‹°ë¸Œ ì„¤ì •(ì•ˆë“œë¡œì´ë“œìš©)
- ê°¤ëŸ¬ë¦¬ ê´€ë ¨ ê¶Œí•œ í•„ìš”

  - ì•ˆë“œë¡œì´ë“œì—ì„œ ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ë˜ëŠ” ë™ì˜ìƒ ì½ê¸° ê°€ëŠ¥

  - AndroidManifest.xml íŒŒì¼ì—ì„œ ì¶”ê°€ ê°€ëŠ¥
 
    - android.permission.READ_EXTERNAL_STORAGE ê¶Œí•œ ì¶”ê°€
   
> android/app/src/main/AndroidManifest.xml
```dart
  <manifest xmlns:android="http://schemas.android.com/apk/res/android">
      <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
      <application
          android:label="vid_player"
          android:name="${applicationName}"
          android:icon="@mipmap/ic_launcher">
        <!-- ìƒëµ -->
      </application>
  </manifest>
```

<br>

### 05. í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [lib] í´ë”ì— [screen] í´ë” ìƒì„± í›„ HomeScreen ìœ„ì ¯ ìƒì„±í•  home_screen.dart ìƒì„±
```dart
  import 'package:flutter/material.dart';
  
  class HomeScreen extends StatelessWidget {
    const HomeScreen({Key? key}) : super(key: key);
    
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        body: Text(
          'Home Screen',
        ),
      );
    }
  }
```

<br>

- lib/main.dart íŒŒì¼ì— HomeScreen ìœ„ì ¯ ë“±ë¡
```dart
  import 'package:flutter/material.dart';
  import 'package:vid_player/screen/home_screen.dart';
  
  void main() {
    runApp(
      MaterialApp(
        home: HomeScreen(),
      ),
    );
  }
```

<br>

---

<br>

12.3 ë ˆì´ì•„ì›ƒ êµ¬ìƒ
---
- í™”ë©´ í•˜ë‚˜ë¡œ êµ¬ì„±

- ì „ì²´ í™”ë©´ì„ ì°¨ì§€í•˜ëŠ” ìœ„ì ¯ ë‘ ê°œë¥¼ í™œìš©í•´ ì¡°ê±´ì— ë”°ë¼ ì•Œë§ì€ ìœ„ì ¯ ë…¸ì¶œ

<br>

### 01. ì²« í™”ë©´ : renderEmpty() í•¨ìˆ˜
- renderEmpty() : ì•±ì„ ì²˜ìŒ ì‹¤í–‰í–ˆì„ ë•Œ í™”ë©´ì— ë³´ì—¬ì¤„ ìœ„ì ¯ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

  - ì•±ì˜ ë¡œê³ ì™€ ì´ë¦„ì„ ë³´ì—¬ì£¼ê³ , grandient ë°°ê²½ ì ìš©


<br>

### 02. í”Œë ˆì´ í™”ë©´ : renderVideo() í•¨ìˆ˜
- ë¡œê³ ë¥¼ ëˆŒëŸ¬ì„œ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ë™ì˜ìƒ ì„ íƒì‹œ í™”ë©´ì— ë³´ì—¬ì¤„ ìœ„ì ¯ ë°˜í™˜

- ë™ì˜ìƒì„ ë³¼ ìˆ˜ ìˆê³  ë™ì˜ìƒì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ ì¡´ì¬

  - ì˜ìƒì„ ì¬ìƒí•˜ê±°ë‚˜ ì¼ì‹œì •ì§€
 
  - 3ì´ˆ ì „ìœ¼ë¡œ ëŒë¦¬ê±°ë‚˜ 3ì´ˆ í›„ë¡œ ì´ë™
 
  - ìƒˆë¡œìš´ ì˜ìƒ ì„ íƒ

<br>

---

<br>

12.4 êµ¬í˜„
---
- ImagePicker ì´ìš©í•´ ë™ì˜ìƒì„ ì„ íƒí•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„ ë° ë™ì˜ìƒ ì‹¤í–‰ ê¸°ëŠ¥ êµ¬í˜„

<br>

### 01. ì²« í™”ë©´ : renderEmpty() í•¨ìˆ˜ êµ¬í˜„
- í™ˆ ìŠ¤í¬ë¦°ì—ì„œ ë™ì˜ìƒ íŒŒì¼ ì„ íƒê³¼ ê´€ë ¨í•´ì„œ ìƒíƒœ ê´€ë¦¬

  - HomeScreen í´ë˜ìŠ¤ë¥¼ StatefulWidget ìœ¼ë¡œ êµ¬ì„±
 
- image_picker í”ŒëŸ¬ê·¸ì¸ : ì´ë¯¸ì§€ë‚˜ ë™ì˜ìƒì„ ì„ íƒí–ˆì„ ë•Œ XFile ì´ë¼ëŠ” í´ë˜ìŠ¤ í˜•íƒœë¡œ ì„ íƒëœ ê°’ ë°˜í™˜

- HomeScreen ì— ì„ íƒëœ ë™ì˜ìƒì„ ì˜ë¯¸í•˜ëŠ” XFile í˜•íƒœì˜ video ë³€ìˆ˜ ì„ ì–¸

  - ê·¸ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ renderEmpty() í•¨ìˆ˜ë¥¼ ë³´ì—¬ì¤„ì§€, renderVideo() í•¨ìˆ˜ ë³´ì—¬ì¤„ì§€ ì§€ì •

- renderEmpty() í•¨ìˆ˜ ì„¤ê³„

  - Column ìœ„ì ¯ì— ë¡œê³  ë„£ê³  ë°”ë¡œ ì•„ë˜ ì•± ì´ë¦„ ë„£ê¸°
 
    - _Logo ìœ„ì ¯ìœ¼ë¡œ ë¡œê³  ì½”ë“œ ì‘ì„±
   
    - _AppName ìœ„ì ¯ìœ¼ë¡œ ì•± ì´ë¦„ ì‘ì—…

> lib/screen/home_screen.dart
```dart
  import 'package:flutter/material.dart';
  import 'package:image_picker/image_picker.dart';
  
  class HomeScreen extends StatefulWidget {
    // StatelessWidget -> StatefulWidget
    const HomeScreen({Key? key}) : super(key: key);
  
    @override
    State<HomeScreen> createState() => _HomeScreenState();
  }
  
  class _HomeScreenState extends State<HomeScreen> {
    XFile? video;     // 1. ë™ì˜ìƒ ì €ì¥í•  ë³€ìˆ˜
  
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        backgroundColor: Colors.black,
        // 2. ë™ì˜ìƒì´ ì„ íƒëì„ ë•Œì™€ ì„ íƒ ì•ˆ ëì„ ë•Œ ë³´ì—¬ì¤„ ìœ„ì ¯
        body: video == null ? renderEmpty() : renderVideo(),
      );
    }
  
    // 3. ë™ì˜ìƒ ì„ íƒ ì „ ë³´ì—¬ì¤„ ìœ„ì ¯
    Widget renderEmpty() {
      return Container(
        width: MediaQuery.of(context).size.width,   // ë„ˆë¹„ ìµœëŒ€ë¡œ ëŠ˜ë ¤ì£¼ê¸°
        child: Column(
          // ìœ„ì ¯ë“¤ ê°€ìš´ë° ì •ë ¬
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            _Logo(),      // ë¡œê³  ì´ë¯¸ì§€
            SizedBox(height: 30.0),
            _AppName(),   // ì•± ì´ë¦„
          ],
        ),
      );
    }
  
    // 4. ë™ì˜ìƒ ì„ íƒ í›„ ë³´ì—¬ì¤„ ìœ„ì ¯
    Widget renderVideo() {
        return Container();
    }
  }
  
  class _Logo extends StatelessWidget {
    const _Logo({Key? key}) : super(key: key);
  
    @override
    Widget build(BuildContext context) {
      return Image.asset(
        'asset/img/logo.png',   // ë¡œê³  ì´ë¯¸ì§€
      );
    }
  }
  
  class _AppName extends StatelessWidget {  // ì•± ì œëª©ì„ ë³´ì—¬ì¤„ ìœ„ì ¯
    const _AppName({Key? key}) : super(key: key);
  
    @override
    Widget build(BuildContext context) {
      final textStyle = TextStyle(
        color: Colors.white,
        fontSize: 30.0,
        fontWeight: FontWeight.w300,
      );
  
      return Row(
        mainAxisAlignment: MainAxisAlignment.center,  // ê¸€ì ê°€ìš´ë° ì •ë ¬
        children: [
          Text(
            'VIDEO',
            style: textStyle,
          ),
          Text(
            'PLAYER',
            style: textStyle.copyWith(
              // 5. TextStyle ì—ì„œ ë‘ê¼ë§Œ 700 ìœ¼ë¡œ ë³€ê²½
              fontWeight: FontWeight.w700,
            ),
          ),
        ],
      );
    }
  }
```
- image_picker í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©ì‹œ XFile í´ë˜ìŠ¤ í˜•íƒœë¡œ ë™ì˜ìƒ ë°›ì„ ìˆ˜ ìˆìŒ

  - ì„ íƒëœ ë™ì˜ìƒì´ ìˆìœ¼ë©´ í•´ë‹¹ ë³€ìˆ˜ì— ì €ì¥
 
- ì„ íƒëœ ë™ì˜ìƒì´ ì—†ìœ¼ë©´ renderEmpty() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ìœ„ì ¯ ë…¸ì¶œ

  - ì„ íƒëœ ë™ì˜ìƒì´ ìˆìœ¼ë©´ renderVideo() í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ìœ„ì ¯ ë…¸ì¶œ
 
- renderEmpty() : ì„ íƒëœ ë™ì˜ìƒì´ ì—†ì„ ë•Œ ë³´ì—¬ì¤„ ìœ„ì ¯ì„ ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜

- renderVideo() : ì„ íƒëœ ë™ì˜ìƒì´ ìˆì„ ë•Œ ë³´ì—¬ì¤„ ìœ„ì ¯ì„ ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜

- TextStyle ì˜ copyWith í•¨ìˆ˜ : í˜„ì¬ ì†ì„±ë“¤ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•œì±„ë¡œ íŠ¹ì • ì†ì„±ë§Œ ë³€ê²½ ê°€ëŠ¥í•œ í•¨ìˆ˜

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/06.png)|

<br>

### 02. ë°°ê²½ìƒ‰ ê·¸ë¼ë°ì´ì…˜ êµ¬í˜„
- BoxDecoration í´ë˜ìŠ¤

  - Container ìœ„ì ¯ì˜ ë°°ê²½ìƒ‰, í…Œë‘ë¦¬, ëª¨ì„œë¦¬ ë‘¥ê·¼ ì •ë„ ë“± ì „ë°˜ì  ë””ìì¸ ë³€ê²½ ê°€ëŠ¥

- BoxDecoration í´ë˜ìŠ¤ì˜ gradient ë§¤ê°œë³€ìˆ˜

  - LinearGradient : ì‹œì‘ ë¶€ìœ„ë¶€í„° ë ë¶€ìœ„ê¹Œì§€ ì ì  ìƒ‰ì´ ë³€í•¨
 
  - RadialGradient : ì¤‘ì•™ì—ì„œ ìƒ‰ê¹”ì´ ì ì  í¼ì ¸ê°€ëŠ” í˜•íƒœ

> lib/screen/home_screen.dart
```dart
...ìƒëµ...
class _HomeScreenState extends State<HomeScreen> {
  ...ìƒëµ...
  // ë™ì˜ìƒ ì„ íƒ ì „ ë³´ì—¬ì¤„ ìœ„ì ¯
  Widget renderEmpty() {
    return Container(
      width: MediaQuery.of(context).size.width,
      decoration: getBoxDecoration(),   // 1. í•¨ìˆ˜ë¡œë¶€í„° ê°’ ê°€ì ¸ì˜¤ê¸°
      ...ìƒëµ...
    );
  }

  BoxDecoration getBoxDecoration() {
    return BoxDecoration(
      // 2. ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ ìƒ‰ìƒ ì ìš©
      gradient: LinearGradient(
        begin: Alignment.topCenter,
        end: Alignment.bottomCenter,
        colors: [
          Color(0xFF2A3A7C),
          Color(0xFF000118),
        ],
      ),
    );
  }
  ...ì…ëµ...
}
```
- decoration ë§¤ê°œë³€ìˆ˜ì— ë“¤ì–´ê°ˆ BoxDecoration ê°’ì„ getBoxDecoration() í•¨ìˆ˜ì—ì„œ êµ¬í˜„

- LinearGradient í´ë˜ìŠ¤ì— ì‹œì‘ê³¼ ëì„ ì •í•˜ëŠ” begin ê³¼ end ë§¤ê°œë³€ìˆ˜ ì§€ì •

  - Alignment í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì •ë ¬
 
- colors ë§¤ê°œë³€ìˆ˜ì— ë°°ê²½ì„ êµ¬ì„±í•  ìƒ‰ìƒë“¤ì„ List ë¡œ ì…ë ¥
 
  - ìƒ‰ìƒì€ begin ì— ì…ë ¥ëœ ìœ„ì¹˜ë¶€í„° end ì— ì…ë ¥ëœ ìœ„ì¹˜ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì ìš©ë¨

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/07.png)|

<br>

### 03. íŒŒì¼ ì„ íƒ ê¸°ëŠ¥ êµ¬í˜„
- ë¡œê³ ë¥¼ íƒ­í•˜ë©´ ë¹„ë””ì˜¤ì™€ ì‚¬ì§„ì„ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ êµ¬í˜„

  - ì‚¬ìš©ìê°€ íŒŒì¼ì„ ì„ íƒí–ˆì„ ë•Œ ë³€ìˆ˜ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œ ì‘ì„±
 
- _Logo ìœ„ì ¯ì— GestureDetector ì¶”ê°€í•´ onTap() í•¨ìˆ˜ê°€ ì‹¤í–‰ëì„ ë•Œ ë™ì˜ìƒ ì„ íƒí•˜ëŠ” í•¨ìˆ˜ ì‹¤í–‰

> lib/screen/home_screen.dart
```dart
...ìƒëµ...
class _HomeScreenState extends State<HomeScreen> {
  ...ìƒëµ
  Widget renderEmpty() {
    return Container(
      width: MediaQuery.of(context).size.width,
      decoration: getBoxDecoration(),
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          _Logo(
            onTap: onNewVideoPressed,   // 1. ë¡œê³  íƒ­í•˜ë©´ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜
          ),
          SizedBox(height: 30.0),
          _AppName(),
        ],
      ),
    );
  }

  void onNewVideoPressed() async {    // 2. ì´ë¯¸ì§€ ì„ íƒí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•œ í•¨ìˆ˜
    final video = await ImagePicker().pickVideo(
      source: ImageSource.gallery,
    );
    
    if (video != null) {
      setState(() {
        this.video = video;
      });
    }
  }
  ...ìƒëµ...
}

class _Logo extends StatelessWidget {
  final GestureTapCallback onTap;   // íƒ­ í–ˆì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
  
  const _Logo({required this.onTap, Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: onTap,     // 3. ìƒìœ„ ìœ„ì ¯ìœ¼ë¡œë¶€í„° íƒ­ ì½œë°±ë°›ê¸°
      child: Image.asset(
        'asset/img/logo.png',   // ë¡œê³  ì´ë¯¸ì§€
      ),
    );
  }
}
...ìƒëµ...
```
- _Logo ìœ„ì ¯ íƒ­í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” onTap ë§¤ê°œë³€ìˆ˜ì— onNewVideoPressed() í•¨ìˆ˜ ì…ë ¥

  - ë¡œê³  íƒ­í•˜ë©´ ë™ì˜ìƒì„ ì„ íƒí•˜ëŠ” í™”ë©´ ì‹¤í–‰ë¨
 
- ImagePicker().pickVideo() í•¨ìˆ˜ ì‹¤í–‰ì‹œ ë™ì˜ìƒì„ ì„ íƒí•˜ëŠ” í™”ë©´ ì‹¤í–‰

  - source ë§¤ê°œë³€ìˆ˜
 
    - ImageSource.gallery : ì´ë¯¸ ì €ì¥ë˜ì–´ ìˆëŠ” ë™ì˜ìƒì„ ê°¤ëŸ¬ë¦¬ë¡œë¶€í„° ì„ íƒí•˜ëŠ” í™”ë©´ ì‹¤í–‰
   
    - ImageSource.camera : ì¹´ë©”ë¼ë¥¼ ì‹¤í–‰í•œ í›„ ë™ì˜ìƒ ì´¬ì˜ì„ ë§ˆì¹˜ë©´ í•´ë‹¹ ì˜ìƒ ì„ íƒ
   
  - ì„ íƒëœ ë™ì˜ìƒì„ XFile í˜•íƒœë¡œ ë¹„ë™ê¸°ë¡œ ë°˜í™˜ë°›ì„ ìˆ˜ ìˆìŒ
 
  - ì‚¬ìš©ìê°€ ì„ íƒí•œ ê°’ì´ ì¡´ì¬í•˜ë©´ video ë³€ìˆ˜ì— ì €ì¥
 
- Image.asset ì„ GestureDetector ë¡œ ê°ì‹¸ì„œ onTap() í•¨ìˆ˜ë¥¼ ì™¸ë¶€ë¡œë¶€í„° ì…ë ¥ë°›ê¸°

  - _HomeScreenState ì˜ onNewVideoPressed() í•¨ìˆ˜ ì…ë ¥ë°›ìŒ

> ì‹¤í–‰ ê²°ê³¼

|ë¡œê³  íƒ­|íƒ­ ì´í›„|
|-|-|
|![ì´ë¯¸ì§€](./img/08.png)|![ì´ë¯¸ì§€](./img/09.png)|

<br>

### 04. í”Œë ˆì´ì–´ í™”ë©´ êµ¬í˜„
- CustomVideoPlayer ìœ„ì ¯ì„ ë”°ë¡œ ìƒì„±í•´ ì˜ìƒ ì¬ìƒê³¼ ê´€ë ¨ëœ ëª¨ë“  ì½”ë”© ì‘ì—…

  - í™”ë©´ ì •ì¤‘ì•™ì— ë°°ì¹˜
  
> lib/screen/home_screen.dart
```dart
  ...ìƒëµ...
  class _HomeScreenState extends State<HomeScreen> {
    ...ìƒëµ...
    Widget renderVideo() {
        return Container(
          child: CustomVideoPlayer(), // ë™ì˜ìƒ ì¬ìƒê¸° ìœ„ì ¯
        );
    }
  }
  ...ìƒëµ...
```

<br>

### 05. ë™ì˜ìƒ ì¬ìƒê¸° êµ¬í˜„
#### (1) ì»´í¬ë„ŒíŠ¸ ìƒì„±
- [lib] ì•„ë˜ì— [component] í´ë” ìƒì„± í›„ custom_video_player.dart íŒŒì¼ ìƒì„±

- CustomVideoPlayer ìœ„ì ¯ : HomeScreen ìœ„ì ¯ì—ì„œ ì„ íƒëœ ë™ì˜ìƒì„ ì¬ìƒí•˜ëŠ” ëª¨ë“  ìƒíƒœ ê´€ë¦¬

  - StatefulWidget ìƒì„±
  
  - ìœ„ì ¯ì´ ì˜ ë Œë”ë§ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ”ìš©ë„ë¡œ CustomVideoPlayer ê¸€ìë§Œ ì •ê°€ìš´ë° ìœ„ì¹˜

> lib/component/custom_video_player.dart
```dart
  import 'package:flutter/material.dart';
  import 'package:image_picker/image_picker.dart';
  
  // 1. ë™ì˜ìƒ ìœ„ì ¯ ìƒì„±
  class CustomVideoPlayer extends StatefulWidget {
    // ì„ íƒí•œ ë™ì˜ìƒì„ ì €ì¥í•  ë³€ìˆ˜
    // XFile ì€ ImagePicker ë¡œ ì˜ìƒ ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ ì„ íƒí–ˆì„ ë•Œ ë°˜í™˜í•˜ëŠ” íƒ€ì…
    final XFile video;
  
    const CustomVideoPlayer({
      required this.video,  // ìƒìœ„ì—ì„œ ì„ íƒí•œ ë™ì˜ìƒ ì£¼ì…í•´ì£¼ê¸°
      Key? key,
    }) : super(key: key);
  
    @override
    State<CustomVideoPlayer> createState() => _CustomVideoPlayerState();
  }
  
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    @override
    Widget build(BuildContext context) {
      return Center(
        child: Text(
          'CustomVideoPlayer',    // 2. ìƒ˜í”Œ í…ìŠ¤íŠ¸
          style: TextStyle(
            color: Colors.white,
          ),
        ),
      );
    }
  }
```

<br>


#### (2) home_screen.dart ë‚´ CustomVideoPlayer ìœ„ì ¯ì— video ë§¤ê°œë³€ìˆ˜ ì œê³µ
> lib/screen/home_screen.dart
```dart
// 1. CustomVideoPlayer ìœ„ì ¯ íŒŒì¼ ì„í¬íŠ¸
import 'package:vid_player/component/custom_video_player.dart';
...ìƒëµ...

class _HomeScreenState extends State<HomeScreen> {
...ìƒëµ...
  Widget renderVideo() {
      return Center(
        child: CustomVideoPlayer(
          video: video!,    // 2. ì„ íƒëœ ë™ì˜ìƒ ì…ë ¥í•´ì£¼ê¸°
        ),
      );
  }
}

...ìƒëµ...
```

> ì‹¤í–‰ ê²°ê³¼

|ë¡œê³  íƒ­í•˜ì—¬ ë™ì˜ìƒ ì„ íƒ|ë™ì˜ìƒ ì„ íƒ í›„ í™”ë©´|
|-|-|
|![ì´ë¯¸ì§€](./img/08.png)|![ì´ë¯¸ì§€](./img/10.png)|

<br>

#### (3) CustomVideoPlayer ìœ„ì ¯ ê¸°ëŠ¥ ê°œì„ 
- video_player íŒ¨í‚¤ì§€

  - VideoPlayerController ì™€ VideoPlayer ìœ„ì ¯ì„ ì‚¬ìš©í•´ ì„ íƒí•œ ë™ì˜ìƒì„ í™”ë©´ì— ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ êµ¬í˜„

> lib/component/custom_video_player.dart
```dart
  ...ìƒëµ...
  import 'package:video_player/video_player.dart';
  import 'dart:io';   // íŒŒì¼ ê´€ë ¨ ì‘ì—… íŒ¨í‚¤ì§€
  
  ...ìƒëµ...
  
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    // 1. ë™ì˜ìƒì„ ì¡°ì‘í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬
    VideoPlayerController? videoController;
    
    @override
    void initState() {
      super.initState();
      
      initializeController();  // 2. ì»¨íŠ¸ë¡¤ëŸ¬ ì´ˆê¸°í™”
    }
    
    initializeController() async {  // 3. ì„ íƒí•œ ë™ì˜ìƒìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ ì´ˆê¸°í™”
      final videoController = VideoPlayerController.file(
        File(widget.video.path),
      );
      
      await videoController.initialize();
      
      setState(() {
        this.videoController = videoController;
      });
    }
    
    @override
    Widget build(BuildContext context) {
      // 4. ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì¤€ë¹„ ì¤‘ì¼ ë•Œ ë¡œë”© í‘œì‹œ
      if (videoController == null) {
        return Center(
          child: CircularProgressIndicator(),
        );
      }
      
      return AspectRatio(   // 5. ë™ì˜ìƒ ë¹„ìœ¨ì— ë”°ë¥¸ í™”ë©´ ë Œë”ë§
        aspectRatio: videoController!.value.aspectRatio,
        child: VideoPlayer(
          videoController!,
        ),
      );
    }
  }
```
- VideoPlayer ìœ„ì ¯ : VideoPlayerController ë¡œ ì¡°ì‘ ê°€ëŠ¥

  - initState() í•¨ìˆ˜ì—ì„œ ì„¤ì •í•  VideoPlayerController ì„ ì–¸
 
- initializeController : VideoPlayerController ì„ ì–¸í•˜ëŠ” ì—­í• 

  - VideoPlayerController ëŠ” State ìƒì„±ë˜ëŠ” ìˆœê°„ í•œ ë²ˆë§Œ ìƒì„±ë˜ì–´ì•¼ í•˜ë‹ˆ initState() í•¨ìˆ˜ì—ì„œ ì„ ì–¸
 
- íŒŒì¼ë¡œë¶€í„° VideoPlayerController ìƒì„±

  - VideoPlayerController.file ìƒì„±ìë¥¼ ì´ìš©í•´ ì»¨íŠ¸ë¡¤ëŸ¬ ë§Œë“¤ê¸°
 
    - initialize() í•¨ìˆ˜ ì‹¤í–‰í•´ ë™ì˜ìƒ ì¬ìƒ ê°€ëŠ¥ ìƒíƒœ ì¤€ë¹„
   
    - ì—ëŸ¬ ì—†ì´ initialize() í•¨ìˆ˜ ì™„ë£Œë˜ë©´ VideoPlayerController ì‚¬ìš© ê°€ëŠ¥ ìƒíƒœ
   
      - setState() í•¨ìˆ˜ ì´ìš©í•´ this.videoController ì— ì¤€ë¹„í•œ videoController ë³€ìˆ˜ ì €ì¥

- VideoPlayerController ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì–´ì•¼ë§Œ videoPlayer ë³€ìˆ˜ê°€ null ì´ ì•„ë‹Œ ì¡°ê±´ ìƒì„± ê°€ëŠ¥

  - videoPlayer ë³€ìˆ˜ê°€ null ì´ë©´ VideoPlayerController ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ì•„ë‹˜
 
    - CircularProgressIndicator ë„ì›Œ ë¡œë”© ì¤‘ì„ì„ ì•”ì‹œ
   
- AspectRatio : child ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥ë˜ëŠ” ìœ„ì ¯ì˜ ë¹„ìœ¨ì„ ì •í•  ìˆ˜ ìˆëŠ” ìœ„ì ¯

  - ë§¤ê°œë³€ìˆ˜ì— ì›í•˜ëŠ” ë¹„ìœ¨ ì…ë ¥ ê°€ëŠ¥
 
    - ë„ˆë¹„/ë†’ì´ë¡œ ì…ë ¥
   
    - ex) 16:9 ë¹„ìœ¨ => 16/9 ì…ë ¥
   
  - VideoPlayerController ì„ ì–¸í•˜ë©´ ì…ë ¥ëœ ë™ì˜ìƒ ë¹„ìœ¨ì„ value.aspectRatio ê²Œí„°ë¡œ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŒ

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/11.png)|

<br>

#### ğŸ’¡ VideoPlayerController ì˜ ë„¤ì„ë“œ ìƒì„±ì(Named Constructors)
|ìƒì„±ì ì´ë¦„|ì„¤ëª…|
|-|-|
|VideoPlayerController.asset|asset íŒŒì¼ì˜ ê²½ë¡œë¡œë¶€í„° ë™ì˜ìƒì„ ë¶ˆëŸ¬ì˜´|
|VideoPlayerController.network|ë„¤íŠ¸ì›Œí¬ URL ë¡œë¶€í„° ë™ì˜ìƒì„ ë¶ˆëŸ¬ì˜´|
|VideoPlayerController.file|íŒŒì¼ ê²½ë¡œë¡œë¶€í„° ë™ì˜ìƒ ë¶ˆëŸ¬ì˜´|

<br>

### 06. Slider ìœ„ì ¯ ë™ì˜ìƒê³¼ ì—°ë™
#### (1) Slider ìœ„ì ¯ì„ ì‚¬ìš©í•´ ë™ì˜ìƒì˜ í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ì™€ ì—°ë™

  - Slider ìœ„ì ¯ì„ ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤í•˜ë©´ ë™ì˜ìƒì´ í•´ë‹¹ë˜ëŠ” ìœ„ì¹˜ë¡œ ì´ë™
 
  - ë™ì˜ìƒì´ ì‹¤í–‰ë˜ëŠ” ìœ„ì¹˜ì— ë”°ë¼ ìë™ìœ¼ë¡œ Slider ìœ„ì ¯ì´ ì›€ì§ì—¬ì¤˜ì•¼ í•¨
 
- VideoPlayer ìœ„ì ¯ ìœ„ì— Slider ìœ„ì ¯ì´ ìœ„ì¹˜í•˜ë„ë¡ Stack ìœ„ì ¯ ì‚¬ìš©

  - return ì½”ë“œë§Œ ë³€ê²½í•˜ë©´ ë¨

> lib/component/custom_video_player.dart
```dart
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
  ...ìƒëµ...
    @override
    Widget build(BuildContext context) {
      if (videoController == null) {
        return Center(
          child: CircularProgressIndicator(),
        );
      }
  
      return AspectRatio( 
        aspectRatio: videoController!.value.aspectRatio,
        child: Stack(       // 1. children ìœ„ì ¯ì„ ìœ„ë¡œ ìŒ“ì„ ìˆ˜ ìˆëŠ” ìœ„ì ¯
          children: [
            VideoPlayer(    // VideoPlayer ìœ„ì ¯ì„ Stack ìœ¼ë¡œ ì´ë™
              videoController!,
            ),
            Positioned(     // 2. child ìœ„ì ¯ì˜ ìœ„ì¹˜ë¥¼ ì •í•  ìˆ˜ ìˆëŠ” ìœ„ì ¯
              bottom: 0,
              right: 0,
              left: 0,
              child: Slider(  // 3. ë™ì˜ìƒ ì¬ìƒ ìƒíƒœë¥¼ ë³´ì—¬ì£¼ëŠ” ìŠ¬ë¼ì´ë”
                onChanged: (double val){},
                value: 0,
                min: 0,
                max: videoController!.value.duration.inSeconds.toDouble(),
              ),
            ),
          ],
        ),
      );
    }
  }
```
- Stack ìœ„ì ¯ : Column ìœ„ì ¯ê³¼ Row ìœ„ì ¯ì²˜ëŸ¼ children ë§¤ê°œë³€ìˆ˜ì— ì—¬ëŸ¬ ê°œì˜ ìœ„ì ¯ ìœ„ì¹˜ ê°€ëŠ¥

  - ìœ„ì ¯ì´ List ì— ì…ë ¥ë˜ëŠ” ìˆœì„œëŒ€ë¡œ ì•„ë˜ë¶€í„° ìŒ“ì•„ì˜¬ë ¤ì§
 
- Stack ìœ„ì ¯ì€ ê¸°ë³¸ì ìœ¼ë¡œ children ìœ„ì ¯ì„ ì •ì¤‘ì•™ì— ìœ„ì¹˜ì‹œí‚´

  - Stack ìœ„ì ¯ ë‚´ë¶€ì˜ íŠ¹ì • ìœ„ì¹˜ì— ìœ„ì ¯ì„ ìœ„ì¹˜ì‹œí‚¤ê³  ì‹¶ë‹¤ë©´ Positioned ìœ„ì ¯ ì‚¬ìš©í•´ ì§€ì •
 
    - child ë§¤ê°œë³€ìˆ˜ ì™¸ top, bottom, left, right ë§¤ê°œë³€ìˆ˜ ì…ë ¥ ê°€ëŠ¥
   
      - ê°ê° ìœ„ì•„ë˜, ì™¼ìª½, ì˜¤ë¥¸ìª½ì—ì„œ ëª‡ í”½ì…€ì— child ìœ„ì ¯ì„ ìœ„ì¹˜í• ì§€ ì§€ì •
     
      - bottom ë§¤ê°œë³€ìˆ˜ì— 0 ì…ë ¥ì‹œ Stack ìœ„ì ¯ì˜ ê°€ì¥ ì•„ë˜ì— Slider ìœ„ì ¯ ìœ„ì¹˜
     
      - Slider ìœ„ì ¯ì´ ìµœì†Œí•œì˜ í¬ê¸°ë¥¼ ì°¨ì§€
     
        - ì™¼ìª½~ì˜¤ë¥¸ìª½ ëê¹Œì§€ ëŠ˜ì–´ë‚˜ê²Œ í•˜ë ¤ë©´ left, right ë§¤ê°œë³€ìˆ˜ì— 0 ê°’ ì…ë ¥
       
- Slider ìœ„ì ¯ì˜ min ê°’ì€ í•­ìƒ 0

  - ë™ì˜ìƒì˜ ì‹œì‘ì€ í•­ìƒ 0ì´ˆë¶€í„° ì‹œì‘í•˜ê¸° ë•Œë¬¸
 
  - ìµœëŒ€ê°’ì€ ì„ íƒëœ ë™ì˜ìƒì˜ ì¬ìƒ ê¸¸ì´ë¥´ ì´ˆ ë‹¨ìœ„ë¡œ ë³€í™˜
 
    - videoController ë³€ìˆ˜ì˜ value.duration ê²Œí„°ë¥¼ ë¶ˆëŸ¬ì™€ì„œ Duration í´ë˜ìŠ¤ë¡œ ì €ë„» ì˜ìƒ ê¸¸ì´ ë°›ì•„ì˜¤ê¸°
   
    - inSeconds ê²Œí„°ë¥¼ ì´ìš©í•´ì„œ ì „ì²´ ê¸¸ì´ë¥¼ ì´ˆë¡œ ë³€í™˜í•œ ê°’ ê°€ì ¸ì˜¤ê¸°
   
    - int ê°’ìœ¼ë¡œ ë°˜í™˜ë˜ëŠ” inSeconds ê²Œí„°ì— toDouble() í•¨ìˆ˜ ì‹¤í–‰í•´ double í˜•íƒœë¡œ í˜•ë³€í™˜
   
      - max ë§¤ê°œë³€ìˆ˜ëŠ” int ê°€ ì•„ë‹Œ double ê°’ì„ ì…ë ¥í•´ì•¼ í•¨

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/12.png)|

<br>

#### (2) Slider ìœ„ì ¯ì˜ ë§¤ê°œë³€ìˆ˜ë“¤ì˜ ê°’ ì‘ì—…
- value ë§¤ê°œë³€ìˆ˜ : í˜„ì¬ê°’ì„ ì˜ë¯¸

  - ë™ì˜ìƒì˜ í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ë¥¼ ì´ˆ ë‹¨ìœ„ë¡œ ë³€í™˜í•œ ê°’ê³¼ ì—°ë™ë˜ì–´ì•¼ í•¨
 
- onChanged ë§¤ê°œë³€ìˆ˜

  - VideoPlayerController ì™€ ì—°ë™í•´ ë™ì˜ìƒ ì‹¤í–‰ ìœ„ì¹˜ ë³€ê²½
 
    - value.position : ë™ì˜ìƒì´ í˜„ì¬ ì¬ìƒë˜ê³  ìˆëŠ” ìœ„ì¹˜ ê°€ì ¸ì˜´
   
    - seekTo() : ë™ì˜ìƒì˜ ì¬ìƒ ìœ„ì¹˜ ë³€ê²½

> lib/component/custom_video_player.dart
```dart
class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
...ìƒëµ...
  @override
  Widget build(BuildContext context) {
    if (videoController == null) {
      return Center(
        child: CircularProgressIndicator(),
      );
    }

    return AspectRatio(
      aspectRatio: videoController!.value.aspectRatio,
      child: Stack(
        children: [
          VideoPlayer(
            videoController!,
          ),
          Positioned(
            bottom: 0,
            right: 0,
            left: 0,
            child: Slider(
              // 1. ìŠ¬ë¼ì´ë”ê°€ ì´ë™í•  ë•Œë§ˆë‹¤ ì‹¤í–‰í•  í•¨ìˆ˜
              onChanged: (double val){
                videoController!.seekTo(
                  Duration(seconds: val.toInt()),
                );
              },
              
              // 2. ë™ì˜ìƒ ì¬ìƒ ìœ„ì¹˜ë¥¼ ì´ˆ ë‹¨ìœ„ë¡œ í‘œí˜„
              value: videoController!.value.position.inSeconds.toDouble(),
              // value: 0,
              min: 0,
              max: videoController!.value.duration.inSeconds.toDouble(),
            ),
          ),
        ],
      ),
    );
  }
}
```
- seekTo() ë§¤ê°œë³€ìˆ˜ì— Duration ê°’ ì…ë ¥

  - onChanged() í•¨ìˆ˜ì— ì œê³µë˜ëŠ” val ê°’ì„ int ë¡œ ë³€ê²½í•´ì„œ Slider ìœ„ì ¯ì—ì„œ ì…ë ¥ëœ ì¬ìƒ ìœ„ì¹˜ ë°›ê¸° ê°€ëŠ¥
 
- position.inSeconds ê²Œí„° ì‹¤í–‰ì‹œ í˜„ì¬ ë™ì˜ìƒì´ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìœ„ì¹˜ ë°›ê¸° ê°€ëŠ¥

<br>

### 07. ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ êµ¬í˜„
#### (1) ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ ë²„íŠ¼(ì¬ìƒ/ì¼ì‹œì •ì§€, ë’¤ë¡œ 3ì´ˆ ì´ë™, ì•ìœ¼ë¡œ 3ì´ˆ ì´ë™, ìƒˆ ë™ì˜ìƒ ì„ ì±…)

  - ì¤‘ë³µ ì½”ë“œ ë°©ì§€ë¡œ ì¼ë°˜í™”ëœ ìœ„ì ¯ êµ¬í˜„

  - IconButton ì˜ onPressed ë§¤ê°œë³€ìˆ˜ì™€ ì•„ì´ì½˜ ëª¨ì–‘ì„ ê²°ì •ì§“ëŠ” IconData ê°’ë§Œ ì™¸ë¶€ì—ì„œ ì…ë ¥ë°›ë„ë¡ ì‘ì„±

> lib/component/custom_icon_button.dart
```dart
  import 'package:flutter/material.dart';
  
  class CustomIconButton extends StatelessWidget {
    final GestureTapCallback onPressed;   // ì•„ì´ì½˜ì„ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
    final IconData iconData;              // ì•„ì´ì½˜
  
    const CustomIconButton({
      required this.onPressed,
      required this.iconData,
      Key? key,
    }) : super(key: key);
    
    @override
    Widget build(BuildContext context){
      return IconButton(        // ì•„ì´ì½˜ ë²„íŠ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ìœ„ì ¯
        onPressed: onPressed,   // ì•„ì´ì½˜ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
        iconSize: 30.0,         // ì•„ì´ì½˜ í¬ê¸°
        color: Colors.white,    // ì•„ì´ì½˜ ìƒ‰ìƒ
        icon: Icon(
          iconData,
        ),
      );
    }
  }
```

<br>

#### (2) ë²„íŠ¼ë“¤ì„ CustomIconButton ìœ„ì ¯ìœ¼ë¡œ êµ¬í˜„

  - Stack ìœ„ì ¯ì—ì„œ Positioned ìœ„ì ¯ì´ ì•„ë‹ˆì–´ë„ Align ìœ„ì ¯ ì‚¬ìš©í•´ children ìœ„ì ¯ ì •ë ¬ ê°€ëŠ¥
 
    - alignment ë§¤ê°œë³€ìˆ˜ ì…ë ¥ ê°€ëŠ¥
   
      - LinearGradient í´ë˜ìŠ¤ì˜ begin, end ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥í–ˆë˜ ê°’ê³¼ ê°™ì€ Alignment í´ë˜ìŠ¤ ì´ìš©í•´ ì •ë ¬ ì§€ì • ê°€ëŠ¥

> lib/component/custom_video_player.dart
```dart
  // CustomIconButton ìœ„ì ¯ ë¶ˆëŸ¬ì˜¤ê¸°
  import 'package:vid_player/component/custom_icon_button.dart';
  ...ìƒëµ...
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
  ...ìƒëµ...
    @override
    Widget build(BuildContext context) {
      ...ìƒëµ...
  
      return AspectRatio( 
        aspectRatio: videoController!.value.aspectRatio,
        child: Stack( 
          children: [
            VideoPlayer(
              videoController!,
            ),
            Positioned(
              ...ìƒëµ...
              ),
            Align(
              // 1. ì˜¤ë¥¸ìª½ ìœ„ì— ìƒˆ ë™ì˜ìƒ ì•„ì´ì½˜ ìœ„ì¹˜
              alignment: Alignment.topRight,
              child: CustomIconButton(
                onPressed: (){},
                iconData: Icons.photo_camera_back,
              ),
            ),
            Align(
              // 2. ë™ì˜ìƒ ì¬ìƒ ê´€ë ¨ ì•„ì´ì½˜ ì¤‘ì•™ì— ìœ„ì¹˜
              alignment: Alignment.center,
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                children: [
                  CustomIconButton(   // ë˜ê°ê¸° ë²„íŠ¼
                    onPressed: (){},
                    iconData: Icons.rotate_left,
                  ),
                  CustomIconButton(   // ì¬ìƒ ë²„íŠ¼
                    onPressed: (){},
                    iconData: videoController!.value.isPlaying ?
                        Icons.pause : Icons.play_arrow,
                  ),
                  CustomIconButton(   // ì•ìœ¼ë¡œ ê°ê¸° ë²„íŠ¼
                    onPressed: (){},
                    iconData: Icons.rotate_right,
                  ),
                ],
              ),
            ),
          ],
        ),
      );
    }
  }
```
- ìƒˆ ë™ì˜ìƒ ì„ íƒí•˜ê¸° ì•„ì´ì½˜ì€ ì˜¤ë¥¸ìª½ ìœ„ì— ë°°ì¹˜

- ë‚˜ë¨¸ì§€ ìƒˆ ë²„íŠ¼ì€ ê°€ìš´ë° ì •ë ¬ì„ í•˜ê³  MainAxisAlignment.spaceEvenly ì‚¬ìš©í•´ ì•„ì´ì½˜ ê°„ ê°„ê²© ë™ì¼í•˜ê²Œ ì ìš©

  - videoController.value.isPlaying ê²Œí„° ì´ìš©í•´ í˜„ì¬ ë™ì˜ìƒì´ ì¬ìƒ ì¤‘ì¸ì§€ í™•ì¸ ê°€ëŠ¥
 
    - ì¬ìƒ ì¤‘ì´ë©´ true ê°’ ë°˜í™˜
   
      - ë™ì˜ìƒì´ ì¬ìƒ ì¤‘ì´ë©´ ê°€ìš´ë° ë²„íŠ¼ ì¼ì‹œì •ì§€ ì•„ì´ì½˜
     
      - ë™ì˜ìƒì´ ì¼ì‹œì •ì§€ ì¤‘ì´ë¼ë©´ ì¬ìƒ ë²„íŠ¼

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/13.png)|

<br>

#### (3) ë²„íŠ¼ë“¤ì— onPressed ë§¤ê°œë³€ìˆ˜ê°’ ì„¤ì •
- ë™ì˜ìƒ ì¬ìƒê³¼ ê´€ë ¨ëœ ìƒˆ ë²„íŠ¼ì˜ ê¸°ëŠ¥ êµ¬í˜„

  - í˜„ì¬ ë™ì˜ìƒì´ ì¬ìƒë˜ëŠ” ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ëŠ” ê±´ seekTo() í•¨ìˆ˜ ì‚¬ìš©í•´ êµ¬í˜„ ê°€ëŠ¥
 
  - ê°€ìš´ë° ì¬ìƒ ë²„íŠ¼ì€ ì¼ì‹œì •ì§€ ê¸°ëŠ¥ì„ í•˜ëŠ” pause() í•¨ìˆ˜ & play() í•¨ìˆ˜ ì´ìš©í•´ êµ¬í˜„ ê°€ëŠ¥

> lib/componenet/custom_video_player.dart
```dart
  ...ìƒëµ...
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
  ...ìƒëµ...
    @override
    Widget build(BuildContext context) {
    ...ìƒëµ...
      return AspectRatio( 
        aspectRatio: videoController!.value.aspectRatio,
        child: Stack(
          children: [
            VideoPlayer( 
              videoController!,
            ),
            Positioned(
              ...ìƒëµ...
            ),
            Align(
              alignment: Alignment.topRight,
              child: CustomIconButton(
                onPressed: (){},
                iconData: Icons.photo_camera_back,
              ),
            ),
            Align(
              alignment: Alignment.center,
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                children: [
                  CustomIconButton(
                    onPressed: onReversePressed,
                    iconData: Icons.rotate_left,
                  ),
                  CustomIconButton(
                    onPressed: onPlayPressed,
                    iconData: videoController!.value.isPlaying ?
                        Icons.pause : Icons.play_arrow,
                  ),
                  CustomIconButton(
                    onPressed: onForwardPressed,
                    iconData: Icons.rotate_right,
                  ),
                ],
              ),
            ),
          ],
        ),
      );
    }
    void onReversePressed() {     // 1. ë˜ê°ê¸° ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
      final currentPosition = videoController!.value.position;  // í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ìœ„ì¹˜
      
      Duration position = Duration();   // 0ì´ˆë¡œ ì‹¤í–‰ ìœ„ì¹˜ ì´ˆê¸°í™”
      
      if (currentPosition.inSeconds > 3) {  // í˜„ì¬ ì‹¤í–‰ ìœ„ì¹˜ê°€ 3ì´ˆë³´ë‹¤ ê¸¸ ë•Œë§Œ 3ì´ˆ ë¹¼ê¸°
        position = currentPosition - Duration(seconds: 3);
      }
      
      videoController!.seekTo(position);
    }
    
    void onForwardPressed() {     // 2. ì•ìœ¼ë¡œ ê°ê¸° ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
      final maxPosition = videoController!.value.duration;  // ë™ì˜ìƒ ê¸¸ì´
      final currentPosition = videoController!.value.position;
      
      Duration position = maxPosition;    // ë™ì˜ìƒ ê¸¸ì´ë¡œ ì‹¤í–‰ ìœ„ì¹˜ ì´ˆê¸°í™”
  
      // ë™ì˜ìƒ ê¸¸ì´ì—ì„œ 3ì´ˆë¥¼ ëº€ ê°’ë³´ë‹¤ í˜„ì¬ ìœ„ì¹˜ê°€ ì§§ì„ ë•Œë§Œ 3ì´ˆ ë”í•˜ê¸°
      if ((maxPosition - Duration(seconds: 3)).inSeconds >
          currentPosition.inSeconds) {
        position = currentPosition + Duration(seconds: 3);
      }
  
      videoController!.seekTo(position);
    }
  
    void onPlayPressed() {    // 3. ì¬ìƒ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜
      if (videoController!.value.isPlaying) {
        videoController!.pause();
      } else {
        videoController!.play();
      }
    }
  }
```
- ë’¤ë¡œ 3ì´ˆ ëŒë¦¬ê¸° ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜

  - í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ë™ì˜ìƒì˜ ìœ„ì¹˜ê°€ 3ì´ˆë³´ë‹¤ ê¸¸ë©´ í˜„ì¬ ìœ„ì¹˜ì—ì„œ 3ì´ˆë¥¼ ëº€ ìœ„ì¹˜ë¡œ ì´ë™
 
  - í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ë™ì˜ìƒì˜ ìœ„ì¹˜ê°€ 3ì´ˆë³´ë‹¤ ì§§ìœ¼ë©´ 0ì´ˆì˜ ìœ„ì¹˜ë¡œ ì´ë™
 
- ì•ìœ¼ë¡œ 3ì´ˆ ëŒë¦¬ê¸° ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜

  - ê¸°ë³¸ê°’ì„ ë™ì˜ìƒì˜ ìµœëŒ€ ê¸¸ì´ë¡œ ì„¤ì •

  - í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ìœ„ì¹˜ì—ì„œ 3ì´ˆë¥¼ ë”í•œ ê¸¸ì´ê°€ ë™ì˜ìƒ ì „ì²´ ê¸¸ì´ë³´ë‹¤ ì§§ìœ¼ë©´ í˜„ì¬ ìœ„ì¹˜ì—ì„œ 3ì´ˆë¥¼ ë”í•œ ìœ„ì¹˜ë¡œ ì´ë™
 
  - í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ìœ„ì¹˜ì—ì„œ 3ì´ˆë¥¼ ë”í•œ ê¸¸ì´ê°€ ë™ì˜ìƒ ì „ì²´ ê¸¸ì´ë³´ë‹¤ ê¸¸ë©´ ë™ì˜ìƒì˜ ëìœ¼ë¡œ ì´ë™
 
- ì¬ìƒ ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜

  - í˜„ì¬ ë™ì˜ìƒì´ ì‹¤í–‰ ì¤‘ì´ë©´ ì¼ì‹œì •ì§€ ê¸°ëŠ¥ì¸ pause() í•¨ìˆ˜ì‹¤í–‰
 
  - í˜„ì¬ ë™ì˜ìƒì´ ì¼ì‹œì •ì§€ ì¤‘ì´ë©´ ë™ì˜ìƒì„ ì‹¤í–‰í•˜ëŠ” play() í•¨ìˆ˜ ì‹¤í–‰
 
  - ë²„íŠ¼ì„ ì¬ìƒ ì•„ì´ì½˜ ë˜ëŠ” ì¼ì‹œì •ì§€ ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½í•´ì¤˜ì•¼ í•˜ë‹ˆ setState() í•¨ìˆ˜ ì‹¤í–‰

<br>

#### (4) í˜„ì¬ ë™ì˜ìƒ ìœ„ì¹˜ Slider ìœ„ì ¯ì— ë°˜ì˜
- í˜„ì¬ Slider ìœ„ì ¯ì€ videoController ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜¤ëŠ” í˜„ì¬ ë™ì˜ìƒì˜ ì‹¤í–‰ ìœ„ì¹˜ê°’ì„ value ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥

  - í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìœ„ì¹˜ê°€ ë°”ë€”ë•Œë§ˆë‹¤ build() í•¨ìˆ˜ê°€ ê³„ì† ì‹¤í–‰ë˜ì–´ì•¼ í•¨
 
    - ì§€ê¸ˆì€ Slider ìœ„ì ¯ì´ í•œ ë²ˆ ë¹Œë“œë˜ë©´ ë‹¤ì‹œ ë¹Œë“œë˜ì§€ ì•ŠëŠ” ìƒíƒœ
   
  - addListener() í•¨ìˆ˜ ì‚¬ìš©í•´ videoController ë³€ìˆ˜ì˜ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ setState() í•¨ìˆ˜ë¡œ build() í•¨ìˆ˜ ì¬ì‹¤í–‰

> lib/component/custom_video_player.dart
```dart
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    ...ìƒëµ...
    initializeController() async { 
      final videoController = VideoPlayerController.file(
        File(widget.video.path),
      );
  
      await videoController.initialize();
  
      // 1. ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì†ì„±ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰í•  í•¨ìˆ˜ ë“±ë¡
      videoController.addListener(videoControllerListener);
  
      setState(() {
        this.videoController = videoController;
      });
    }
  
    // ë™ì˜ìƒì˜ ì¬ìƒ ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ setStat() ì‹¤í–‰í•´ build() ì¬ì‹¤í–‰
    void videoControllerListener() {
      setState((){});
    }
  
    // State íê¸°ë  ë•Œ ê°™ì´ íê¸°í•  í•¨ìˆ˜ ì‹¤í–‰
    @override
    void dispose(){
      // 2. listener ì‚­ì œ
      videoController?.removeListener(videoControllerListener);
      super.dispose();
    }
    ...ìƒëµ...
  }
```
- addListener() í•¨ìˆ˜ì— videoControllerListener() í•¨ìˆ˜ ì œê³µ

  - videoController ì†ì„± ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
 
  - videoControllerListener() í•¨ìˆ˜ : estState() í•¨ìˆ˜ ë§¤ë²ˆ ì‹¤í–‰
  
    - (ë™ì˜ìƒì˜ í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ ë“±) videoController ì†ì„±ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ build() í•¨ìˆ˜ ì¬ì‹¤í–‰

- addListener() í•¨ìˆ˜ ì‹¤í–‰í•˜ë©´ ê¼­ dispose() í•¨ìˆ˜ì—ì„œ removeListener() í•¨ìˆ˜ ì‹¤í–‰

  - ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ìµœì í™”

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/14.png)|

<br>

#### (5) ì˜ìƒ ì„ íƒ ë²„íŠ¼ ê¸°ëŠ¥ ì •ì˜
- ê¸°ëŠ¥ì€ HomeScreen ì— ì´ë¯¸ ì •ì˜í•´ë‘ 

  - onNewVideoPressed() í•¨ìˆ˜ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì—…

> lib/screen/home_screen.dart
```dart
  ...ìƒëµ...
    Widget renderVideo() {
        return Center(    // ë™ì˜ìƒ ì¬ìƒê¸° ê°€ìš´ë° ì •ë ¬
          child: CustomVideoPlayer(
            video: video!,    // ì„ íƒëœ ë™ì˜ìƒ ì…ë ¥í•´ì£¼ê¸°
            onNewVideoPressed: onNewVideoPressed,
          ),
        );
    }
  ...ìƒëµ
```

> lib/component/custom_video_player.dart
```dart
  ...ìƒëµ...
  class CustomVideoPlayer extends StatefulWidget {
    final XFile video;
    
    // ìƒˆë¡œìš´ ë™ì˜ìƒì„ ì„ íƒí•˜ë©´ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
    final GestureTapCallback onNewVideoPressed;
  
    const CustomVideoPlayer({
      required this.video,  // ìƒìœ„ì—ì„œ ì„ íƒí•œ ë™ì˜ìƒ ì£¼ì…í•´ì£¼ê¸°
      required this.onNewVideoPressed,
      Key? key,
    }) : super(key: key);
    ...ìƒëµ...
  
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    ...ìƒëµ...
      return AspectRatio(
        aspectRatio: videoController!.value.aspectRatio,
        child: Stack(
          children: [
            VideoPlayer(
              videoController!,
            ),
            Positioned(
              ...ìƒëµ...
            ),
            Align(
              // ì˜¤ë¥¸ìª½ ìœ„ì— ìƒˆ ë™ì˜ìƒ ì•„ì´ì½˜ ìœ„ì¹˜
              alignment: Alignment.topRight,
              child: CustomIconButton(
                // ì¹´ë©”ë¼ ì•„ì´ì½˜ì„ ì„ íƒí•˜ë©´ ìƒˆë¡œìš´ ë™ì˜ìƒ ì„ íƒ í•¨ìˆ˜ ì‹¤í–‰
                onPressed: widget.onNewVideoPressed,
                iconData: Icons.photo_camera_back,
              ),
            ),
            Align(
              ...ìƒëµ...
              ),
            ),
          ],
        ),
      );
    }
    ...ìƒëµ...
  }
```

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/15.png)|

<br>

#### (6) ë™ì˜ìƒì„ ì´ë¯¸ ì„ íƒí•œ ìƒíƒœì—ì„œë„ ìƒˆë¡œìš´ ë™ì˜ìƒ ì„ íƒ ê°€ëŠ¥
- ë²„íŠ¼ ëˆ„ë¥´ë©´ image_picker ì‘ë™í•˜ì§€ë§Œ í™”ë©´ì—ëŠ” ìƒˆë¡œ ì„ íƒí•œ ì˜ìƒ ì‹¤í–‰ X

  - ë™ì˜ìƒì˜ ì†ŒìŠ¤ë¥¼ videoController ë³€ìˆ˜ë¥¼ ì¸ìŠ¤í„´í™”í•  ë•Œ ì„ ì–¸
 
    - í˜„ì¬ ì½”ë“œì—ì„œ videoController ë³€ìˆ˜ëŠ” initState() í•¨ìˆ˜ì—ì„œë§Œ ì„ ì–¸ë˜ê¸° ë•Œë¬¸
   
- í•´ê²°

  - StatefulWidget ìƒëª…ì£¼ê¸°ì˜ í•¨ìˆ˜ì¸ didUpdateWidget() í•¨ìˆ˜ ì‚¬ìš©

  - ìƒˆë¡œìš´ ë™ì˜ìƒì´ ì„ íƒë˜ì—ˆì„ ë•Œ videoController ìƒˆë¡œ ìƒì„±í•˜ë„ë¡ ì½”ë“œ ì¶”ê°€

> lib/component/custom_video_player.dart
```dart
  ...ìƒëµ...
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    VideoPlayerController? videoController;
    
    @override
    // covariant í‚¤ì›Œë“œëŠ” CustomVideoPlayer í´ë˜ìŠ¤ì˜ ìƒì†ëœ ê°’ë„ í—ˆê°€í•´ì¤Œ
    void didUpdateWidget(covariant CustomVideoPlayer oldWidget) {
      super. didUpdateWidget(oldWidget);
      
      // ìƒˆë¡œ ì„ íƒí•œ ë™ì˜ìƒì´ ê°™ì€ ë™ì˜ìƒì¸ì§€ í™•ì¸
      if(oldWidget.video.path != widget.video.path) {
        initializeController();
      }
    }
    ...ìƒëµ...
```
- statefulWidget ìƒëª…ì£¼ê¸° : ìœ„ì ¯ì€ ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì´ ë³€ê²½ë  ë•Œ íê¸°ë˜ê³  ìƒˆë¡œ ìƒì„±ë¨

  - didUpdateWidget ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ì…ë ¥ë˜ëŠ” oldWidget : íê¸°ë˜ëŠ” ìœ„ì ¯
 
  - íê¸°ë˜ëŠ” ìœ„ì ¯ì˜ ë™ì˜ìƒ ê²½ë¡œê°€ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ìœ„ì ¯ì˜ ë™ì˜ìƒ ê²½ë¡œì™€ ë‹¤ë¥´ë‹¤ë©´ initializeController() ì¬ì‹¤í–‰
 
    - videoController ë³€ìˆ˜ ì¬ìƒì„±

<br>

### 08. ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì¶”ê¸° ê¸°ëŠ¥ ë§Œë“¤ê¸°
- í™”ë©´ì„ í•œ ë²ˆ íƒ­í•˜ë©´ ì»¨íŠ¸ë¡¤ì´ ìˆ¨ê²¨ì§€ê³  ë‹¤ì‹œ íƒ­í•˜ë©´ ì»¨íŠ¸ë¡¤ ë…¸ì¶œ

> lib/component/custom_video_player.dart
```dart
  ...ìƒëµ...
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    bool showControls = false;    // 1. ë™ì˜ìƒ ì¡°ì‘í•˜ëŠ” ì•„ì´ì½˜ ë…¸ì¶œ ì—¬ë¶€
    ...ìƒëµ...
    @override
    Widget build(BuildContext context) {
    ...ìƒëµ...
    @override
    Widget build(BuildContext context) {
      if (videoController == null) {
        return Center(
          child: CircularProgressIndicator(),
        );
      }
  
      return GestureDetector(   // 2. í™”ë©´ ì „ì²´ì˜ íƒ­ì„ ì¸ì‹í•˜ê¸° ìœ„í•´ ì‚¬ìš©
        onTap: () {
          setState((){
            showControls = !showControls;
          });
        },
        child: AspectRatio(
          aspectRatio: videoController!.value.aspectRatio,
          child: Stack(
            children: [
              VideoPlayer(
                videoController!,
              ),
              if(showControls)
                Container(    // 3. ì•„ì´ì½˜ ë²„íŠ¼ì„ ë³´ì¼ ë•Œ í™”ë©´ì„ ì–´ë‘¡ê²Œ ë³€ê²½
                  color: Colors.black.withOpacity(0.5),
                ),
              Positioned(
              ...ìƒëµ...
              ),
  
              // showControls ê°€ true ì¼ ë•Œë§Œ ì•„ì´ì½˜ ë³´ì—¬ì£¼ê¸°
              if(showControls)
                Align(    // ë™ì˜ìƒ ìƒˆë¡œ ì„ íƒí•˜ê¸° ë²„íŠ¼
                ...ìƒëµ...
                ),
              if(showControls)
                Align(    // ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ ë²„íŠ¼
                ...ìƒëµ...
                ),
            ],
          ),
        )
      );
    }
    ...ìƒëµ...
  }
```
- showControls ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ true ì¼ ë•ŒëŠ” ë™ì˜ìƒ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ë³´ì—¬ì£¼ê³  false ì¼ë•Œ ë³´ì—¬ì£¼ì§€ ì•ŠìŒ

- ë™ì˜ìƒ í”Œë ˆì´ì–´ë¥¼ í†µì§¸ë¡œ GestureDetector ì— ê°ì‹¸ì„œ íƒ­í–ˆì„ ë•Œì˜ ì½œë°± í•¨ìˆ˜ ë°›ê¸°

- ë°ì€ ë°°ê²½ì˜ ì˜ìƒì„ í‹€ì—ˆì„ ë•Œ ì»¨íŠ¸ë¡¤ ê°€ì‹œì„±ì„ ìœ„í•´ 50% íˆ¬ëª…ë„ê°€ ìˆëŠ” ê²€ì • ë°°ê²½ ì¶”ê°€

- ë‹¤íŠ¸ ì–¸ì–´ì—ì„œëŠ” List ì•ˆì—ì„œ ì§ì ‘ if ë¬¸ ì‚¬ìš© ê°€ëŠ¥

  - showControls ê°€ true ì¼ ë•Œë§Œ ë°”ë¡œ ì•„ë˜ì˜ ìœ„ì ¯ì„ ë Œë”ë§í•˜ê² ë‹¤ëŠ” ì˜ë¯¸

> ì‹¤í–‰ ê²°ê³¼

|ì»¨íŠ¸ë¡¤ì´ ìˆ¨ê²¨ì§„ ìƒíƒœ|ì»¨íŠ¸ë¡¤ì´ ë³´ì´ëŠ” ìƒíƒœ|
|-|
|![ì´ë¯¸ì§€](./img/16.png)|![ì´ë¯¸ì§€](./img/17.png)|

<br>

### 09. íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ê°€
- Slider ë³´ê³  ì •í™•í•™ ì‹œê°„ì„ ì•Œ ìˆ˜ ìˆë„ë¡ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ìœ„ì¹˜ì™€ ë™ì˜ìƒ ê¸¸ì´ë¥¼ Slider ì¢Œìš°ì— ë°°ì¹˜

- Slider ë¥¼ Row ìœ„ì ¯ìœ¼ë¡œ ê°ì‹¸ê³  Slider ìœ„ì ¯ì„ ìµœëŒ€ë¡œ ëŠ˜ë¦° ë‹¤ìŒ ì–‘ìª½ì— Text ìœ„ì ¯ ë°°ì¹˜

> lib/component/custom_video_player.dart
```dart
  class _CustomVideoPlayerState extends State<CustomVideoPlayer> {
    @override
    Widget build(BuildContext context) {
    ...ìœ„ì ¯
      return GestureDetector(
        onTap: () {
          setState((){
            showControls = !showControls;
          });
        },
        child: AspectRatio(
          aspectRatio: videoController!.value.aspectRatio,
          child: Stack(
            children: [
              VideoPlayer(
                videoController!,
              ),
              if(showControls)
                Container(
                  color: Colors.black.withOpacity(0.5),
                ),
              Positioned(
                bottom: 0,
                right: 0,
                left: 0,
                child: Padding(
                  padding: EdgeInsets.symmetric(horizontal: 8.0),
                  child: Row(
                    children: [
                      renderTimeTextFromDuration(
                        // ë™ì˜ìƒ í˜„ì¬ ìœ„ì¹˜
                        videoController!.value.position,
                      ),
                      Expanded(
                        // Slider ê°€ ë‚¨ëŠ” ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€í•˜ë„ë¡ êµ¬í˜„
                        child: Slider(
                          onChanged: (double val){
                            videoController!.seekTo(
                              Duration(seconds: val.toInt()),
                            );
                          },
  
                          value: videoController!.value.position.inSeconds.toDouble(),
                          min: 0,
                          max: videoController!.value.duration.inSeconds.toDouble(),
                        ),
                      ),
                      renderTimeTextFromDuration(
                        // ë™ì˜ìƒ ì´ ê¸¸ì´
                        videoController!.value.duration,
                      ),
                    ],
                  ),
                ),
              ),
              ...ìƒëµ
            ],
          ),
        )
      );
    }
  
    Widget renderTimeTextFromDuration(Duration duration) {
      // 1. Duration ê°’ì„ ë³´ê¸° í¸í•œ í˜•íƒœë¡œ ë³€í™˜
      return Text(
        '${duration.inMinutes.toString().padLeft(2, '0')}:${(duration.inSeconds % 60).toString().padLeft(2, '0')}',
          style: TextStyle(
            color: Colors.white,
          ),
      );
    }
    ...ìƒëµ...
  }
```
- Duration í´ë˜ìŠ¤ : ê¸°ê°„ì„ ë¶„ ë‹¨ìœ„, ì´ˆ ë‹¨ìœ„ë¡œ í‘œí˜„í•´ì£¼ëŠ” iniMinutes, inSeconds ê²Œí„° ì œê³µ

  - ì†Œìˆ˜ì  ë²„ë¦¬ê³  ì •ìˆ˜ ë‚´ë¦¼ê°’ìœ¼ë¡œ í‘œí˜„
 
    - ë¶„ ë‹¨ìœ„ëŠ” inMinutes ê²Œí„° ê·¸ëŒ€ë¡œ ì‚¬ìš©ì‹œ Duration ì˜ ë¶„ ë‹¨ìœ„ê°’ ì•Œ ìˆ˜ ìˆìŒ
   
    - ì´ˆ ë‹¨ìœ„ê°’ì˜ ê²½ìš° ë¶„ ë‹¨ìœ„ê°’ì—ì„œ ë‚¨ì€ ê°’ë§Œ í‘œí˜„
   
      - inSeconds ê²Œí„°ê°€ ë°˜í™˜í•´ì£¼ëŠ” ì´ˆ ë‹¨ìœ„ê°’ì„ 60ìœ¼ë¡œ ë‚˜ëˆˆ í›„ ë‚˜ë¨¸ì§€ë§Œ í™”ë©´ì— ë³´ì—¬ì¤Œ
   
        - ex) 61 ì´ˆ â†’ 01:01  
       
  - padLeft() : ì‹¤í–‰ë˜ëŠ” ëŒ€ìƒì˜ ë¬¸ìì—´ì˜ ì™¼ìª½ì— ë¬¸ìë¥¼ ì¶”ê°€í•´ì£¼ëŠ” ì—­í• 
 
    - ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ìµœì†Œ ë¬¸ìì—´ì˜ ê¸¸ì´ ì…ë ¥
   
    - ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ìµœì†Œ ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ì±„ìš°ì§€ ëª»í–ˆì„ ë•Œ ì™¼ìª½ì— ì¶”ê°€í•´ì¤„ ë¬¸ì ì…ë ¥
   
      - ex) '1'.padLeft(2,'0') â†’ 01

> ì‹¤í–‰ ê²°ê³¼

|-|
|-|
|![ì´ë¯¸ì§€](./img/18.png)|

<br>

---

<br>

ğŸš¨ í•µì‹¬ ìš”ì•½
---
- **Stack ìœ„ì ¯** ì´ìš©í•˜ë©´ ìœ„ì ¯ ìœ„ì— ìœ„ì ¯ì„ ìŒ“ì„ ìˆ˜ ìˆìŒ

- **Positioned ìœ„ì ¯**ê³¼ **Align ìœ„ì ¯** ì‚¬ìš©í•´ì„œ Stack ì—ì„œ ìœ„ì ¯ë“¤ ì •ë ¬ ê°€ëŠ¥

- **image_picker í”ŒëŸ¬ê·¸ì¸** ì‚¬ìš©í•˜ë©´ ê°„í¸í•˜ê²Œ ìœ ì €ë¡œë¶€í„° íŒŒì¼ ì„ íƒ ì…ë ¥ë°›ê¸° ê°€ëŠ¥

- ë™ì˜ìƒ íŒŒì¼ì˜ ìœ„ì¹˜ë§Œ ì•Œë©´ **video_player í”ŒëŸ¬ê·¸ì¸** ì‚¬ìš©í•´ì„œ ì†ì‰½ê²Œ ë™ì˜ìƒ ì¬ìƒ ê°€ëŠ¥

- StatefulWidget ìƒëª…ì£¼ê¸° ì¤‘ í•˜ë‚˜ì¸ **didUpdateWidget() í•¨ìˆ˜**ë¥¼ ì˜¤ë²„ë¼ì´ë“œ

  - StatefulWidget ë§¤ê°œë³€ìˆ˜ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ íŠ¹ì • í•¨ìˆ˜ ì‹¤í–‰ ê°€ëŠ¥


<br>































